{"remainingRequest":"C:\\Users\\kprut\\Desktop\\ask-around-me\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\kprut\\Desktop\\ask-around-me\\frontend\\src\\views\\AskView.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\kprut\\Desktop\\ask-around-me\\frontend\\src\\views\\AskView.vue","mtime":1607093321483},{"path":"C:\\Users\\kprut\\Desktop\\ask-around-me\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\kprut\\Desktop\\ask-around-me\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\kprut\\Desktop\\ask-around-me\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\kprut\\Desktop\\ask-around-me\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\kprut\\Desktop\\ask-around-me\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdBc2tWaWV3JywNCiAgZGF0YTogKCkgPT4gKHsNCiAgICB2YWxpZDogdHJ1ZSwNCiAgICBxdWVzdGlvbjogJycsDQogICAgcXVlc3Rpb25SdWxlczogWw0KICAgICAgdiA9PiAhIXYgfHwgJ1F1ZXN0aW9uIGlzIHJlcXVpcmVkJywNCiAgICAgIHYgPT4gKHYgJiYgdi5sZW5ndGggPD0gMTAwKSB8fCAnUXVlc3Rpb24gbXVzdCBiZSBsZXNzIHRoYW4gMTAwIGNoYXJhY3RlcnMnLA0KICAgIF0sDQogICAgdHlwZTogbnVsbCwNCiAgICBpdGVtczogWw0KICAgICAgJ1N0YXIgcmF0aW5nJywNCiAgICAgICdHZW8gcmF0aW5nJywNCiAgICBdLA0KICAgIGxhenk6IGZhbHNlDQogIH0pLCAgDQogIG1ldGhvZHM6IHsNCiAgICB2YWxpZGF0ZSAoKSB7DQogICAgICB0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKQ0KICAgIH0sDQogICAgcmVzZXQgKCkgew0KICAgICAgdGhpcy4kcmVmcy5mb3JtLnJlc2V0KCkNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvJykNCiAgICB9LA0KICAgIGFzeW5jIHNhdmVRdWVzdGlvbigpIHsNCiAgICAgIGNvbnN0IHRva2VuID0gYXdhaXQgdGhpcy4kYXV0aC5nZXRUb2tlblNpbGVudGx5KCk7DQogICAgICBjb25zdCB1cmwgPSBgJHt0aGlzLiRBUEl1cmx9L3F1ZXN0aW9uc2ANCg0KICAgICAgY29uc3QgcGF5bG9hZCA9IHsgDQogICAgICAgIHF1ZXN0aW9uOiB0aGlzLnF1ZXN0aW9uLA0KICAgICAgICB0eXBlOiB0aGlzLnR5cGUsDQogICAgICAgIHBvc2l0aW9uOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldFBvc2l0aW9uDQogICAgICB9DQogICAgICBjb25zb2xlLmxvZygnVVJMOiAnLCB1cmwpDQogICAgICBjb25zb2xlLmxvZygnUGF5bG9hZDogJywgcGF5bG9hZCkNCiAgICAgIHRyeSB7DQogICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgYXhpb3MucG9zdCh1cmwsIHBheWxvYWQsDQogICAgICAgICAgew0KICAgICAgICAgICAgaGVhZGVyczogeyANCiAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3Rva2VufWANCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICAgIGNvbnNvbGUubG9nKCdSZXN1bHQ6ICcsIGRhdGEpIA0KDQogICAgICB9IGNhdGNoIChlcnIpIHsNCiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3I6ICcsIGVycikNCiAgICAgIH0NCiAgICAgIHRoaXMucmVzZXQoKQ0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["AskView.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AskView.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"home\">\r\n    <v-container>\r\n      <v-card class=\"ma-2\">\r\n        <v-card-title class=\"headline\">Ask Around</v-card-title>\r\n        <v-card-subtitle>Enter a question to ask users around you.</v-card-subtitle>\r\n\r\n        <v-form class=\"ma-4\"\r\n          ref=\"form\"\r\n          v-model=\"valid\"\r\n          :lazy-validation=\"lazy\"\r\n        >\r\n          <v-text-field\r\n            v-model=\"question\"\r\n            :counter=\"100\"\r\n            :rules=\"questionRules\"\r\n            label=\"Question\"\r\n            required\r\n          ></v-text-field>\r\n    \r\n          <v-select\r\n            v-model=\"type\"\r\n            :items=\"items\"\r\n            :rules=\"[v => !!v || 'Question type is required']\"\r\n            label=\"Question type\"\r\n            required\r\n          ></v-select>\r\n          <v-spacer></v-spacer>\r\n          <v-card-actions>\r\n            <v-spacer></v-spacer>\r\n            <v-btn :disabled=\"!valid\"\r\n            color=\"success\"\r\n            class=\"mr-4\"\r\n            @click=\"saveQuestion\" text>Submit</v-btn>\r\n            <v-btn color=\"error\"\r\n            class=\"mr-4\"\r\n            @click=\"reset\" text>Cancel</v-btn>\r\n           </v-card-actions>\r\n        </v-form>\r\n      </v-card>    \r\n    </v-container>    \r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\"\r\nexport default {\r\n  name: 'AskView',\r\n  data: () => ({\r\n    valid: true,\r\n    question: '',\r\n    questionRules: [\r\n      v => !!v || 'Question is required',\r\n      v => (v && v.length <= 100) || 'Question must be less than 100 characters',\r\n    ],\r\n    type: null,\r\n    items: [\r\n      'Star rating',\r\n      'Geo rating',\r\n    ],\r\n    lazy: false\r\n  }),  \r\n  methods: {\r\n    validate () {\r\n      this.$refs.form.validate()\r\n    },\r\n    reset () {\r\n      this.$refs.form.reset()\r\n      this.$router.push('/')\r\n    },\r\n    async saveQuestion() {\r\n      const token = await this.$auth.getTokenSilently();\r\n      const url = `${this.$APIurl}/questions`\r\n\r\n      const payload = { \r\n        question: this.question,\r\n        type: this.type,\r\n        position: this.$store.getters.getPosition\r\n      }\r\n      console.log('URL: ', url)\r\n      console.log('Payload: ', payload)\r\n      try {\r\n        const { data } = await axios.post(url, payload,\r\n          {\r\n            headers: { \r\n              Authorization: `Bearer ${token}`\r\n          }\r\n        })\r\n        console.log('Result: ', data) \r\n\r\n      } catch (err) {\r\n        console.error('Error: ', err)\r\n      }\r\n      this.reset()\r\n    }\r\n  }\r\n}\r\n</script>\r\n"]}]}